var script = document.createElement("script");
script.src = "https://drive.google.com/uc?export=download&id=16nDvmXpvlCp-8upXh-uqaDnbpLF1_7Yd";
script.onload = () => console.log("Script đã tải xong!");
document.body.appendChild(script);

function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

function getRandomDelay(min, max, step) {
    // Tạo số ngẫu nhiên trong khoảng [min, max] với bước nhảy step
    const randomValue = Math.floor(Math.random() * ((max - min) / step + 1)) * step + min;
    return randomValue;
}

function replaceAndToLower(textOrg) {
	return textOrg.replaceAll(' ', '').replaceAll(':', '').replaceAll(',', '').replaceAll('(', '').replaceAll(')', '').replaceAll('\'', '').toLowerCase();
}

console.log("--------------------------------------------------------------------ĐANG TÌM ĐƠN-------------------------------------------------------------------------------------");
console.log("isNhanDonD4: " + isNhanDonD4 + " | isNhanDonPOE: " + isNhanDonPOE + " | isNhanDonPOE2: " + isNhanDonPOE2 + " | isNhanDonLastEpoch: " + isNhanDonLastEpoch + " | isNhanDonNewWord: " + isNhanDonNewWord + " | isNhanDonThroneAndLiberty: " + isNhanDonThroneAndLiberty);
console.log("---------------------------------------------------------------------------------------------------------------------------------------------------------------------");

console.log("--------------------------------------------------------------------RATE-------------------------------------------------------------------------------------");	
console.log("(POE2) | 1 Divine = : " + poe2PriDivine.toLocaleString("vi-VN") + " VND");
console.log("(POE2) | 1 Exalted = : " + poe2PriExalted.toLocaleString("vi-VN") + " VND");
console.log("(POE2) | 1 PerfectJewellersOrbs = : " + poe2PriPerfectJewellersOrbs.toLocaleString("vi-VN") + " VND");
console.log("(POE2) | 1 GreaterJewellersOrbs = : " + poe2PriGreaterJewellersOrbs.toLocaleString("vi-VN") + " VND");
console.log("(POE2) | 1 LesserJewellersOrbs = : " + poe2PriLesserJewellersOrbs.toLocaleString("vi-VN") + " VND");
console.log("(POE2) | 1 Waystones T16 = : " + poe2Waystones16.toLocaleString("vi-VN") + " VND");
console.log("(POE2) | 1 ChaosOrbs = : " + poe2PriChaosOrbs.toLocaleString("vi-VN") + " VND");
console.log("(POE2) | 1 RegalOrb = : " + poe2PriRegalOrb.toLocaleString("vi-VN") + " VND");

setInterval(function() {
	var _0x4d0496=_0x2463;(function(_0x3cae60,_0x1c9597){var _0x207d6d=_0x2463,_0x3f0dd7=_0x3cae60();while(!![]){try{var _0x342505=-parseInt(_0x207d6d(0x18d))/0x1*(-parseInt(_0x207d6d(0x176))/0x2)+-parseInt(_0x207d6d(0x17c))/0x3+-parseInt(_0x207d6d(0x179))/0x4*(parseInt(_0x207d6d(0x175))/0x5)+-parseInt(_0x207d6d(0x188))/0x6+parseInt(_0x207d6d(0x18e))/0x7+parseInt(_0x207d6d(0x181))/0x8+parseInt(_0x207d6d(0x182))/0x9;if(_0x342505===_0x1c9597)break;else _0x3f0dd7['push'](_0x3f0dd7['shift']());}catch(_0x1ec085){_0x3f0dd7['push'](_0x3f0dd7['shift']());}}}(_0x5973,0x47126));var htmlPopupRulesButton=document[_0x4d0496(0x191)]('div.assigned-orders-popup');if(htmlPopupRulesButton){var htmlRulesButton=htmlPopupRulesButton['querySelector']('button.order-rules__button');htmlRulesButton&&htmlRulesButton[_0x4d0496(0x173)]();}var htmlPopupOrderWasTaken=document['querySelector'](_0x4d0496(0x17e));if(htmlPopupOrderWasTaken){var htmlGotIt=htmlPopupOrderWasTaken[_0x4d0496(0x191)]('a.text-popup__button');htmlGotIt&&htmlGotIt[_0x4d0496(0x173)]();}var htmlLiList=document[_0x4d0496(0x17d)](_0x4d0496(0x177)),stt=0x0;function _0x2463(_0x2fd3dd,_0x2c2f65){var _0x59736f=_0x5973();return _0x2463=function(_0x246359,_0x2e8a82){_0x246359=_0x246359-0x173;var _0x560fb3=_0x59736f[_0x246359];return _0x560fb3;},_0x2463(_0x2fd3dd,_0x2c2f65);}function _0x5973(){var _0x48042b=['includes','textContent','407457MIKjZM','querySelectorAll','div.booster-popup','ps4','PlayStation','2250696YiSgBt','1946601HRsaCr','selfplay','xbox','div.order-stats__item-value','p.order-list-item__desc-text','pilot','3377436DnJVeI','vpnlocation','playstation','icons/7.svg','h3.order-list-item__row','1542sZDVtL','749896KEPYOi','src','XBOX','querySelector','p.order-list-item__order-price\x20span','match','click','icons/27.svg','148585LLLGiy','538BJpYNc','li.order-list-item--find','icons/d22f7c2c34.svg','4JLVBPh'];_0x5973=function(){return _0x48042b;};return _0x5973();}htmlLiList['forEach'](function(_0x15e97d){var _0x4629a1=_0x4d0496;stt++;var _0x84ee72=_0x15e97d[_0x4629a1(0x191)]('button.button--disabled');if(!_0x84ee72){var _0x5215d5=![],_0x1b1f2e=![],_0x1bf310=![],_0x9e29a=![],_0x3857c2=![],_0x5e7f49=![],_0x46e390=_0x15e97d[_0x4629a1(0x191)]('img.order-list-item__game-pic'),_0x78448b=_0x46e390?_0x46e390[_0x4629a1(0x18f)]:'';_0x78448b[_0x4629a1(0x17a)](_0x4629a1(0x174))&&(_0x5215d5=!![]);_0x78448b[_0x4629a1(0x17a)]('icons/9.svg')&&(_0x1b1f2e=!![]);_0x78448b['includes'](_0x4629a1(0x178))&&(_0x1bf310=!![]);_0x78448b[_0x4629a1(0x17a)]('icons/85.svg')&&(_0x9e29a=!![]);_0x78448b['includes'](_0x4629a1(0x18b))&&(_0x3857c2=!![]);_0x78448b[_0x4629a1(0x17a)]('icons/46.svg')&&(_0x5e7f49=!![]);var _0x7c3a2f=_0x15e97d[_0x4629a1(0x191)](_0x4629a1(0x186)),_0x402fe1=_0x7c3a2f?_0x7c3a2f[_0x4629a1(0x17b)]:'',_0x5978ad=replaceAndToLower(_0x402fe1),_0x870b05=_0x15e97d['querySelector'](_0x4629a1(0x18c)),_0x3135d7=_0x870b05?_0x870b05[_0x4629a1(0x17b)]:'',_0x1e06d6=replaceAndToLower(_0x3135d7),_0xc0a2d2=![],_0x3b96b7=![],_0x1f247c=![],_0x1bf61f=_0x15e97d[_0x4629a1(0x17d)](_0x4629a1(0x185));_0x1bf61f['forEach'](function(_0x48dcb0){var _0x11dcb6=_0x4629a1,_0x5c8d80=_0x48dcb0?_0x48dcb0[_0x11dcb6(0x17b)]:'';_0x5c8d80['includes']('PC')&&(_0xc0a2d2=!![]),_0x5c8d80[_0x11dcb6(0x17a)](_0x11dcb6(0x180))&&(_0x3b96b7=!![]),_0x5c8d80['includes'](_0x11dcb6(0x190))&&(_0x1f247c=!![]);});!_0xc0a2d2&&((_0x402fe1[_0x4629a1(0x17a)](_0x4629a1(0x190))||_0x5978ad[_0x4629a1(0x17a)](_0x4629a1(0x184)))&&(_0x1f247c=!![]),(_0x402fe1['includes']('PS')||_0x5978ad['includes'](_0x4629a1(0x18a))||_0x5978ad[_0x4629a1(0x17a)](_0x4629a1(0x17f))||_0x5978ad[_0x4629a1(0x17a)]('ps5'))&&(_0x3b96b7=!![]));!(_0x3b96b7||_0x1f247c)&&(_0xc0a2d2=!![]);var _0x483cda=![];(_0x5978ad[_0x4629a1(0x17a)](_0x4629a1(0x183))||!(_0x5978ad[_0x4629a1(0x17a)](_0x4629a1(0x187))||_0x5978ad[_0x4629a1(0x17a)](_0x4629a1(0x189))))&&(_0x483cda=!![]);var _0x912227=_0x15e97d[_0x4629a1(0x17d)](_0x4629a1(0x192)),_0x2f0f3f=_0x912227[0x0],_0x141c17=_0x912227[0x1],_0x581b7a=_0x2f0f3f?_0x2f0f3f['textContent']:'',_0x161e86=_0x581b7a[_0x4629a1(0x193)](/\d+/),_0x559926=0x0;_0x161e86&&(_0x559926=parseInt(_0x161e86[0x0]));var _0x4e47ae=_0x141c17?_0x141c17[_0x4629a1(0x17b)]:'';_0x4e47ae==''&&(_0x4e47ae=0x0);var _0x478d85=parseFloat(_0x559926+'.'+_0x4e47ae);isNhanDonD4&&_0x5215d5&&nhanDonD4(_0x15e97d,_0x1e06d6,_0x402fe1,_0x5978ad,_0xc0a2d2,_0x3b96b7,_0x1f247c,_0x483cda,_0x478d85),isNhanDonPOE&&_0x1b1f2e&&nhanDonPOE(_0x15e97d,_0x1e06d6,_0x402fe1,_0x5978ad,_0xc0a2d2,_0x3b96b7,_0x1f247c,_0x483cda,_0x478d85),isNhanDonPOE2&&_0x1bf310&&nhanDonPOE2(_0x15e97d,_0x1e06d6,_0x402fe1,_0x5978ad,_0xc0a2d2,_0x3b96b7,_0x1f247c,_0x483cda,_0x478d85),isNhanDonLastEpoch&&_0x9e29a&&nhanDonLastEpoch(_0x15e97d,_0x1e06d6,_0x402fe1,_0x5978ad,_0xc0a2d2,_0x3b96b7,_0x1f247c,_0x483cda,_0x478d85),isNhanDonNewWord&&_0x3857c2&&nhanDonNewWord(_0x15e97d,_0x1e06d6,_0x402fe1,_0x5978ad,_0xc0a2d2,_0x3b96b7,_0x1f247c,_0x483cda,_0x478d85),isNhanDonThroneAndLiberty&&_0x5e7f49&&nhanDonThroneAndLiberty(_0x15e97d,_0x1e06d6,_0x402fe1,_0x5978ad,_0xc0a2d2,_0x3b96b7,_0x1f247c,_0x483cda,_0x478d85);}});
}, xdl1);

function nhanDonPOE(li, boostContentTextRe, descText, descTextRe, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var isSessionSoftcore = false;
	if (!(descTextRe.includes(hardcore) || descTextRe.includes(standard) || descText.includes(soloSelfF))
	) {
		isSessionSoftcore = true;
	}
	
	var isMainCampaign = false;
	
	// POE không nhận đơn XBOX được vì không chơi chung với PC	
	if (isSessionSoftcore && isPC) {
		if ((boostContentTextRe.includes('5way') || boostContentTextRe.includes('powerleveling') || descTextRe.includes('5way') || descTextRe.includes('powerleveling'))
			&& !(isMainCampaign)
		) { // leveling 5way
			timDonLevelingPOE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
	}
}

function nhanDonPOE2(li, boostContentTextRe, descText, descTextRe, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var isSessionSoftcore = false;
	if (!(descTextRe.includes(hardcore) || descText.includes(soloSelfF))
	) {
		isSessionSoftcore = true;
	}
	
	//console.log("Thông tin ==> " + " | isSessionSoftcore: " + isSessionSoftcore + " | isPC: " + isPC + " | isXBOX: " + isXBOX + " | isPlayStation: " + isPlayStation + " | isSelfPlay: " + isSelfPlay + " | priceDolarSkycoach: " + priceDolarSkycoach);
	
	var isMainCampaign = false;
	
	if (isSessionSoftcore) {
		if (boostContentTextRe.includes('powerleveling')
			&& !(descTextRe.includes('build') || descTextRe.includes('endgamebuild'))
		) { // PoE 2 Powerleveling
			if (enableLevlingCampainPOE2) {
				timDonPowerLevelingPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if ((boostContentTextRe.includes('campaignboost') || (boostContentTextRe.includes('powerleveling') && descTextRe.includes('campaign')))
			&& !(descTextRe.includes('build') || descTextRe.includes('endgamebuild'))
		) { // PoE 2 Campaign Boost
			if (enableLevlingCampainPOE2) {
				timDonCampaignPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if ((boostContentTextRe.includes('characterboost') && boostContentTextRe.includes('freeascendancy'))
			&& !descTextRe.includes('endgamebuild')
		) { // PoE 2 New Character Boost + Free Ascendancy
			if (enableLevlingCampainPOE2) {
				timDonCharacterBoostFreeAscendancyPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if ((boostContentTextRe.includes('starterbundle') || boostContentTextRe.includes('build'))
			&& !descTextRe.includes('endgamebuild')
		) { // PoE 2 Starter Bundle 
			const listPrices = {
				essentials: poe2PriEssentialsBundle,
				advancedbundle: poe2PriAdvancedBundle,
				ultimatebundle: poe2PriUltimateBundle,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (enableLevlingCampainPOE2) {
				if (settingPrice > 0) {
					timDonStarterBundlePOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice);
				}
				
				if (descTextRe.includes('starterbuild') && descTextRe.includes('campaign')) { // Starter Build + Full Campaign (1-65);
					timDonStarterBundlePOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, poe2PriStarterBuilds + poe2PriFullCampaign);
				} else if (descTextRe.includes('starterbuild')) {
					timDonStarterBundlePOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, poe2PriStarterBuilds);
				}
			}
		}
		
		if (boostContentTextRe.includes('atlasmapsfreecarries')
			
		) { // PoE 2 Atlas Maps Free Carries
			if (enableLevlingCampainPOE2) {
				timDonAtlasMapsFreeCarriesPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if (boostContentTextRe.includes('atlasboost')
			
		) { // PoE 2 Atlas Boost
			if (enableLevlingCampainPOE2) {
				timDonAtlasBoostPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if (boostContentTextRe.includes('mapsboost')
			
		) { // PoE 2 Maps Boost
			if (enableLevlingCampainPOE2) {
				timDonMapsBoostPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if (boostContentTextRe.includes('levelinggearpack') || boostContentTextRe.includes('levelingpack') || descTextRe.includes('levelinggearpack') || descTextRe.includes('levelingpack')
			
		) { // PoE 2 Leveling Gear Pack || PoE 2 Leveling Pack  
			timDonLevelingPackPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if (boostContentTextRe.includes('trialsofsekhema') || boostContentTextRe.includes('trialsofchaos')
			
		) { // PoE 2 Trials Boost 
			timDonTrialsPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if (boostContentTextRe.includes('gold')
			
		) { // PoE 2 Gold Farming
			timDonGoldFarmingPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, prf2);
		}
	
		if ((boostContentTextRe.includes('hourlydriving') || descTextRe.includes('hourlydriving'))
			
		) { // PoE 2 Hourly Driving
			if (enableLevlingCampainPOE2) {
				timDonHourlyDriving(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, poe2Pri1hHourlyDriving);
			}
		}
		
		if ((boostContentTextRe.includes('campaignbossesboost'))
			
		) { // PoE 2 Campaign Bosses Boost
			timDonCampaignBossesPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if (boostContentTextRe.includes('waystones')
			
		) { // PoE 2 Waystones
			const listPrices = {
				tierxvi: poe2Waystones16,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonWaystonesPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf2);
			}
		}
		
		if (boostContentTextRe.includes('soulcore')
			
		) { // PoE 2 Soul Cores
			const listPrices = {
				azcapa: poe2PriSoulCoreofAzcapa,
				topotante: poe2PriSoulCoreofTopotante,
				jiquani: poe2PriSoulCoreofJiquani,
				puhuarte: poe2PriSoulCoreofPuhuarte,
				atmohua: poe2PriSoulCoreofAtmohua,
				ticaba: poe2PriSoulCoreofTicaba,
				tacati: poe2PriSoulCoreofTacati,
				zalatl: poe2PriSoulCoreofZalatl,
				tzamoto: poe2PriSoulCoreofTzamoto,
				cholotl: poe2PriSoulCoreofCholotl,
				quipolatl: poe2PriSoulCoreofQuipolatl,
				opiloti: poe2PriSoulCoreofOpiloti,
				citaqualotl: poe2PriSoulCoreofCitaqualotl,
				xopec: poe2PriSoulCoreofXopec,
				zantipi: poe2PriSoulCoreofZantipi,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonSoulCoresPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf2);
			}
		}
		
		if (boostContentTextRe.includes('catalyst')
			
		) { // PoE 2 Catalyst
			const listPrices = {
				neural: poe2PriNeuralCatalyst,
				flesh: poe2PriFleshCatalyst,
				adaptive: poe2PriAdaptiveCatalyst,
				eshs: poe2PriEshsCatalyst,
				sibilant: poe2PriSibilantCatalyst,
				xophs: poe2PriXophsCatalyst,
				'uul-netols': poe2PriUulnetolsCatalyst,
				chayulas: poe2PriChayulasCatalyst,
				carapace: poe2PriCarapaceCatalyst,
				tuls: poe2PriTulsCatalyst,
				reaver: poe2PriReaverCatalyst,
				skittering: poe2PriSkitteringCatalyst,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonCatalystPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf2);
			}
		}
		
		if (boostContentTextRe.includes('jewellersorb')
			
		) { // PoE 2 Jeweller's Orbs 
			const listPrices = {
				lesserjewellersorb: poe2PriLesserJewellersOrbs,
				greaterjewellersorb: poe2PriGreaterJewellersOrbs,
				perfectjewellersorb: poe2PriPerfectJewellersOrbs,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonOrbsAmountPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf1);
			}
		}
		
		if (boostContentTextRe.includes('orb') || boostContentTextRe.includes('glassblowersbauble') || boostContentTextRe.includes('armourersscrap') || boostContentTextRe.includes('gemcuttersprism') || boostContentTextRe.includes('blacksmithswhetstones')
			
		) { 
			const listPrices = {
				orbsofalchemy: poe2PriOrbsofAlchemy,
				artificersorb: poe2PriArtificersOrb,
				regalorb: poe2PriRegalOrb,
				orbsoftransmutation: poe2PriOrbsofTransmutation,
				orbsofaugmentation: poe2PriOrbsofAugmentation,
				chaosorb: poe2PriChaosOrbs,
				vaalorb: poe2PriVaalOrbs,
				glassblowersbauble: poe2PriGlassblowersBauble,
				armourersscrap: poe2PriArmourersScrap,
				gemcuttersprism: poe2PriGemcuttersPrism,
				blacksmith: poe2PriBlacksmithsWhetstones,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (boostContentTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonOrbsAmountPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf1);
			}
		}
		
		if (boostContentTextRe.includes('exaltedorb') || boostContentTextRe.includes('divineorb')
			
		) { // PoE 2 Exalted Orbs || PoE 2 Divine Orbs			
			const listPrices = {
				exaltedorb: poe2PriExalted,
				divineorb: poe2PriDivine,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (boostContentTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonExaltedOrDivinePOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf2);
			}
		}
		
		
		if (boostContentTextRe.includes('uncut')
			
		) { // PoE 2 Uncut Support Gems			
			const listPrices = {
				uncutsupportgem: poe2PriUncutSupportGems,
				uncutspiritgem: poe2PriUncutSpiritGems,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (boostContentTextRe.includes(key) || descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonUncutGemsPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf1);
			}
		}
		
	}
}

function nhanDonLastEpoch(li, boostContentTextRe, descText, descTextRe, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var isSessionSoftcore = false;
	if (!(descTextRe.includes(hardcore) || descTextRe.includes(legacy) || descText.includes(soloSelfF))
	) {
		isSessionSoftcore = true;
	}
	
	var isMainCampaign = false;
	
	if (isSessionSoftcore) {
		if ((boostContentTextRe.includes('powerleveling') || descTextRe.includes('powerleveling'))
			&& !(isMainCampaign)
		) { // Last Epoch Powerleveling
			timDonLevelingLE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if ((boostContentTextRe.includes('rankboost') || descTextRe.includes('rankboost'))
			&& !(isMainCampaign)
		) { // leveling
			timDonRankBoostLE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if ((boostContentTextRe.includes('favorfarm') || descTextRe.includes('favor'))
			&& !(isMainCampaign)
		) { // farm favor
			timDonFavorFarmLE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if ((boostContentTextRe.includes('hourlydriving') || descTextRe.includes('hourlydriving'))
			&& !(isMainCampaign)
		) { // Hourly Driving
			timDonHourlyDriving(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, lePrice1hHourlyDriving);
		}
	}
}

function nhanDonNewWord(li, boostContentTextRe, descText, descTextRe, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var isSessionSoftcore = false;
	
	var isMainCampaign = false;
	
}

function nhanDonThroneAndLiberty(li, boostContentTextRe, descText, descTextRe, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var isSessionSoftcore = false;
	
	var isMainCampaign = false;
	
}

function nhanDonD4(li, boostContentTextRe, descText, descTextRe, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var isSessionSoftcore = false;
	if (!(descTextRe.includes(hardcore) || descTextRe.includes(eternal) || descText.includes(soloSelfF))
	) {
		isSessionSoftcore = true;
	}
	
	//console.log("Thông tin ==> " + " | isSessionSoftcore: " + isSessionSoftcore + " | isPC: " + isPC + " | isXBOX: " + isXBOX + " | isPlayStation: " + isPlayStation + " | isSelfPlay: " + isSelfPlay + " | priceDolarSkycoach: " + priceDolarSkycoach);
	
	var isAtlasOfLilith = false;
	if (boostContentTextRe.includes('altarsoflilith')
		|| descTextRe.includes('altarsoflilith')
	) {
		isAtlasOfLilith = true;
	}
	
	var isRenown = false;
	if (boostContentTextRe.includes('renown')
		|| descTextRe.includes('renown')
	) {
		isRenown = true;
	}
	
	var isTenetsOfAkarat = false;
	if (boostContentTextRe.includes('tenetsofakarat')
		|| descTextRe.includes('tenetsofakarat')
	) {
		isTenetsOfAkarat = true;
	}
	
	var isMainCampaign = false;
	if (boostContentTextRe.includes('maincampaign')
		|| descTextRe.includes('maincampaign')
	) {
		isMainCampaign = true;
	}
	
	let isContainsMythicUnique =     d4MythicUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
							|| d4MythicUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)));
								
	let isContainsItemUnique =     d4AllClassUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
								|| d4BarbarianUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
								|| d4DruidUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
								|| d4NecromancerUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
								|| d4RogueUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
								|| d4SorceressUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
								|| d4SpiritbornUniqueArray.some(item => boostContentTextRe.includes(replaceAndToLower(item)))
								|| d4AllClassUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)))
								|| d4BarbarianUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)))
								|| d4DruidUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)))
								|| d4NecromancerUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)))
								|| d4RogueUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)))
								|| d4SorceressUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)))
								|| d4SpiritbornUniqueArray.some(item => descTextRe.includes(replaceAndToLower(item)));
	
	if (isSessionSoftcore) {
		if (boostContentTextRe.includes('goldcoins')
			
		) { 			
			timDonGoldCoinsPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, prf2);
		}
		
		if ((boostContentTextRe.includes('powerleveling'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // 1 - 60 Powerleveling
			if (enableLevlingCampainD4) {
				timDon1To60D4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if (boostContentTextRe.includes('tormentdifficultiesunlock')
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Diablo 4 Torment Difficulties Unlock
			if (enableLevlingCampainD4) {
				timDonTormentDifficultiesUnlockD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if ((boostContentTextRe.includes('paragonlevel') || descTextRe.includes('paragonlevel') || descTextRe.includes('paragonboard') || descTextRe.includes('paragon'))
			&& !descTextRe.includes('build') 
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Diablo 4 Paragon Leveling
			if (enableLevlingCampainD4) {
				timDonParagonD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}

		if ((boostContentTextRe.includes('build') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // build
			if (enableLevlingCampainD4) {
				timDonBuildD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}

		if ((boostContentTextRe.includes('glyphsleveling'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Glyphs Leveling
			if (enableLevlingCampainD4) {
				timDonGlyphsD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}

		if ((boostContentTextRe.includes('obducitefarm'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Obducite Farm
			if (enableLevlingCampainD4) {
				timDonObduciteD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}

		if ((isContainsMythicUnique || boostContentTextRe.includes('mythic') || descTextRe.includes('mythic'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Diablo 4 Mythic Unique Gear Boost
			timDonMythicD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}

		if ((isContainsItemUnique || boostContentTextRe.includes('uniquesbundle'))
			&& !(boostContentTextRe.includes('mythic') || isContainsMythicUnique)
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Diablo 4 Unique Gear Boost 
			timDonUniqueD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if ((boostContentTextRe.includes('resplendentsparksfarm') || descTextRe.includes('resplendentspark'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Resplendent Sparks Farm
			timDonResplendentSparksD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}

		if ((boostContentTextRe.includes('runewords'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Diablo 4 Runewords
			timDonRuneWordD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if ((boostContentTextRe.includes('tormentedbosses') 
				|| boostContentTextRe.includes('bosspacksbundle') 
				|| boostContentTextRe.includes('kingofmaggotskill') 
				|| boostContentTextRe.includes('bossesultimatepack') 
				|| boostContentTextRe.includes('durielfreekillsbundle') 
				|| boostContentTextRe.includes('allbossesbundle ') 
			)
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Tormented Bosses | Boss Packs Bundle | Diablo 4 Duriel, King of Maggots Kill | Bosses Ultimate Pack 4+1 FREE Kill | Duriel Free Kills Bundle | Diablo 4 All Bosses Bundle 
			const listPrices = {
				allboss: d4AllBoss,
				duriel: d4Gia1SetDuriel,
				grigoire: d4Gia1SetGrigoire,
				lordzir: d4Gia1SetLordZir,
				andariel: d4Gia1SetAndariel,
				varshan: d4Gia1SetVarshan,
				beast: d4Gia1SetBeastInIce,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (boostContentTextRe.includes(key) || descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonKillTormentedBossesD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf3);
			}
		}
		
		if ((boostContentTextRe.includes('tormentedbossesresourcepack') 
				|| boostContentTextRe.includes('durielresourcepackboost') 
			)
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Tormented Bosses Resource Pack | Diablo 4 Duriel Resource Pack Boost 
			const listPrices = {
				duriel: d4Gia1SetDuriel,
				grigoire: d4Gia1SetGrigoire,
				lordzir: d4Gia1SetLordZir,
				andariel: d4Gia1SetAndariel,
				varshan: d4Gia1SetVarshan,
				beast: d4Gia1SetBeastInIce,
			};

			let settingPrice = 0;
			for (const [key, value] of Object.entries(listPrices)) {
				if (boostContentTextRe.includes(key) || descTextRe.includes(key)) {
					settingPrice += value;
					//break;
				}
			}
			
			if (settingPrice > 0) {
				timDonTradeBossesResourcePackD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prf2);
			}
		}
		
		if ((boostContentTextRe.includes('duriel') || descTextRe.includes('duriel'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Kill Duriel
			timDonKillDurielD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, prf3);
		}

		if ((boostContentTextRe.includes('thepit') || descTextRe.includes('thepit'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // The Pit of Artificers Boost
			timDonPitD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if ((boostContentTextRe.includes('infernalhordes') || descTextRe.includes('infernalhordes'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Infernal Hordes Boost
			timDonInfernalHordesD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}

		if ((boostContentTextRe.includes('nightmaredungeon') || descTextRe.includes('nightmaredungeon'))
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Nightmare Dungeons Boost
			timDonNMDungeonsD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}
		
		if ((boostContentTextRe.includes('hourlydriving') || descTextRe.includes('hourlydriving'))
			&& !(isAtlasOfLilith || isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Hourly Driving
			if (enableLevlingCampainD4) {
				timDonHourlyDriving(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, d4Pri1hHourlyDriving);
			}
		}
		
		if (isAtlasOfLilith
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isRenown || isTenetsOfAkarat || isMainCampaign)
		) { // Atlas of Lilith
			if (isPC) {
				timDonAtlasOfLilithD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
			}
		}
		
		if (isRenown
			&& !(descTextRe.includes('paragon') || descTextRe.includes('build'))
			&& !(isAtlasOfLilith || isMainCampaign)
		) { // Renown
			timDonRenownD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach);
		}		
		
	}
}

function timDonGoldCoinsPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/goldbillions(\d+)/,
		/goldmillions(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		if (descTextRe.includes('goldbillions')) {
			amoSpent = d4Pri1BGold * soLuong;
		} else {
			amoSpent = d4Pri1BGold/1000 * soLuong;
		}
		
		
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4Pri1BGold, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDon1To60D4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var regexList = [
		/currentlevel(\d+)-desiredlevel(\d+)/,
		/(\d+)currentlevel-(\d+)desiredlevel/,
		/(\d+)-(\d+)/
	];

    // Tìm levelStart và levelEnd
    let levelStart = 0, levelEnd = 0;
    for (let regex of regexList) {
        const match = descTextRe.match(regex);
        if (match) {
            levelStart = parseInt(match[1]);
            levelEnd = parseInt(match[2]);
            break;
        }
    }
	
	const priceLevels = [
		{ level: 0, price: 0 },
        { level: 60, price: d4Pri1to60 },
    ];

    // Tính giá từ levelStart đến levelEnd
    let totalPrice = 0;
    for (let i = 1; i < priceLevels.length; i++) {
        const prev = priceLevels[i - 1];
        const current = priceLevels[i];

        if (levelStart >= prev.level && levelStart < current.level) {
            if (levelEnd <= current.level) {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (levelEnd - levelStart);
                break;
            } else {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (current.level - levelStart);
                levelStart = current.level;
            }
        }
    }

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
    // Kiểm tra điều kiện nhận đơn
	if (totalPrice > 0 && priceDolarSkycoach >= totalPrice.toFixed(3) && (0 < levelEnd && levelEnd <= 60)) {
		submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
	}
}

function timDonTormentDifficultiesUnlockD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {		
	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (priceDolarSkycoach >= d4PriUnlockTormentIV.toFixed(3)) {
		submitNhanDon(li, descText, priceDolarSkycoach, d4PriUnlockTormentIV, 1, amoSpent, amoRecov, prfRecov);
	}
}

function timDonBuildD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (descTextRe.includes('ultimate')) {
		if (priceDolarSkycoach >= d4PriBuildUltimate.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriBuildUltimate, 1, amoSpent, amoRecov, prfRecov);
		}
	} else {
		if (priceDolarSkycoach >= d4PriBuildMin.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriBuildMin, 1, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonAtlasOfLilithD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (priceDolarSkycoach >= d4PriAtlasOfLilithMin.toFixed(3)) {
		submitNhanDon(li, descText, priceDolarSkycoach, d4PriAtlasOfLilithMin, 1, amoSpent, amoRecov, prfRecov);
	}
}

function timDonRenownD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (priceDolarSkycoach >= d4PriRenownMin.toFixed(3)) {
		submitNhanDon(li, descText, priceDolarSkycoach, d4PriRenownMin, 1, amoSpent, amoRecov, prfRecov);
	}
}

function timDonMythicD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	
	var regexList = [
		/(\d+)mythics/,
		/quantity(\d+)/,
		/runs(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (d4PriMythic).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriMythic, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonUniqueD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	
	var regexList = [
		/(\d+)uniques/,
		/quantity(\d+)/,
		/runs(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (d4PriUnique).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriUnique, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonRuneWordD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	var regexList = [
		/quantity(\d+)/,
		/runs(\d+)/
	];
	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			soLuong = parseInt(match[1]);
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= d4PriRuneWord.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriRuneWord, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonPitD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	var regexSoLuongList = [
		/pitruns(\d+)/,
		/quantity(\d+)/,
		/runs(\d+)/
	];
	for (let regex of regexSoLuongList) {
		let match = descTextRe.match(regex);
		if (match) {
			soLuong = parseInt(match[1]);
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	var tierStart = 0;
	var tierEnd = 0;
	var regexList = [
		/(\d+)-(\d+)/
	];
	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			tierStart = parseInt(match[1]);
			tierEnd = parseInt(match[2]);
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (soLuong * d4PriThePit).toFixed(3) && tierEnd > 0 && tierEnd <= d4MaxTierThePit) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriThePit, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonInfernalHordesD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	
	var regexList = [
		/(\d+)xruns/,
		/quantity(\d+)/,
		/runs(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			soLuong = parseInt(match[1]);
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		if (priceDolarSkycoach >= (soLuong * d4PriInfernalHordes).toFixed(3)) {
				submitNhanDon(li, descText, priceDolarSkycoach, d4PriInfernalHordes, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonResplendentSparksD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	
	var regexList = [
		/quantity(\d+)/,
		/runs(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			soLuong = parseInt(match[1]);
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (d4PriResplendentSparks).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriResplendentSparks, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonNMDungeonsD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	
	var regexList = [
		/(\d+)xruns/,
		/quantity(\d+)/,
		/runs(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			soLuong = parseInt(match[1]);
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (soLuong * d4PriNMDungeons).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4PriNMDungeons, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonObduciteD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	
	var regexList = [
		/obducite(\d+)/,
		/\s*(\d+)obducite/,
		/obducitefarm(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (soLuong > 0) {
		if ((priceDolarSkycoach*1000/soLuong).toFixed(3) >= d4Pri1000Obducite) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4Pri1000Obducite, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonGlyphsD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var regexList = [
		/currentlevel(\d+)-desiredlevel(\d+)/,
		/(\d+)currentlevel-(\d+)desiredlevel/,
		/(\d+)-(\d+)/
	];

    // Tìm levelStart và levelEnd
    let levelStart = 0, levelEnd = 0;
    for (let regex of regexList) {
        const match = descTextRe.match(regex);
        if (match) {
            levelStart = parseInt(match[1]);
            levelEnd = parseInt(match[2]);
            break;
        }
    }
	
	const priceLevels = [
		{ level: 0, price: 0 },
		{ level: 20, price: d4PriGlyphFr0To20 },
        { level: 45, price: d4PriGlyphFr0To45 },
        { level: 50, price: d4PriGlyphFr0To50 },
        { level: 60, price: d4PriGlyphFr0To60 },
        { level: 70, price: d4PriGlyphFr0To70 },
        { level: 80, price: d4PriGlyphFr0To80 },
        { level: 90, price: d4PriGlyphFr0To90 },
        { level: 100, price: d4PriGlyphFr0To100 }
    ];

    // Tính giá từ levelStart đến levelEnd
    let totalPrice = 0;
    for (let i = 1; i < priceLevels.length; i++) {
        const prev = priceLevels[i - 1];
        const current = priceLevels[i];

        if (levelStart >= prev.level && levelStart < current.level) {
            if (levelEnd <= current.level) {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (levelEnd - levelStart);
                break;
            } else {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (current.level - levelStart);
                levelStart = current.level;
            }
        }
    }

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
    // Kiểm tra điều kiện nhận đơn
	if (totalPrice > 0 && priceDolarSkycoach >= totalPrice.toFixed(3)) {
		if (!isSelfPlay) {
			submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonParagonD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var regexList = [
		/currentlevel(\d+)-desiredlevel(\d+)/,
		/(\d+)currentlevel-(\d+)desiredlevel/,
		/(\d+)-(\d+)/
	];

    // Tìm levelStart và levelEnd
    let levelStart = 0, levelEnd = 0;
    for (let regex of regexList) {
        const match = descTextRe.match(regex);
        if (match) {
            levelStart = parseInt(match[1]);
            levelEnd = parseInt(match[2]);
            break;
        }
    }
	
	const priceLevels = [
		{ level: 0, price: 0 },
        { level: 50, price: d4PriParagonFr0To50 },
        { level: 100, price: d4PriParagonFr0To100 },
		{ level: 125, price: d4PriParagonFr0To125 },
        { level: 150, price: d4PriParagonFr0To150 },
		{ level: 175, price: d4PriParagonFr0To175 },
        { level: 200, price: d4PriParagonFr0To200 },
        { level: 220, price: d4PriParagonFr0To220 },
        { level: 230, price: d4PriParagonFr0To230 },
        { level: 240, price: d4PriParagonFr0To240 },
        { level: 250, price: d4PriParagonFr0To250 },
        { level: 260, price: d4PriParagonFr0To260 },
        { level: 270, price: d4PriParagonFr0To270 },
        { level: 280, price: d4PriParagonFr0To280 },
        { level: 285, price: d4PriParagonFr0To285 },
        { level: 290, price: d4PriParagonFr0To290 },
        { level: 295, price: d4PriParagonFr0To295 },
		{ level: 298, price: d4PriParagonFr0To298 },
        { level: 300, price: d4PriParagonFr0To300 }
    ];

    // Tính giá từ levelStart đến levelEnd
    let totalPrice = 0;
    for (let i = 1; i < priceLevels.length; i++) {
        const prev = priceLevels[i - 1];
        const current = priceLevels[i];

        if (levelStart >= prev.level && levelStart < current.level) {
            if (levelEnd <= current.level) {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (levelEnd - levelStart);
                break;
            } else {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (current.level - levelStart);
                levelStart = current.level;
            }
        }
    }

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
    // Kiểm tra điều kiện nhận đơn
	if (totalPrice > 0 && priceDolarSkycoach >= totalPrice.toFixed(3)) {
		if (!isSelfPlay) {
			submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonKillTormentedBossesD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/bosskills(\d+)/,
		/bosspacks(\d+)/,
		/durielkills(\d+)/,
		/killpacks(\d+)/,
		/bossbundles(\d+)/,
		/quantity(\d+)/,
		/runs(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonTradeBossesResourcePackD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/bosstickets(\d+)/,
		/summonpacks(\d+)/,
		/quantity(\d+)/,
		/runs(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonKillDurielD4(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/bosskills(\d+)/,
		/bosskill(\d+)/,
		/(\d+)\+(\d+)freekill/,
		/killpacks(\d+)/,
		/duriel(\d+)/,
		/durielkills(\d+)/,
		/(\d+)duriel/,
		/(\d+)summonpacks/,
		/summonpacks(\d+)/,
		/bosspacks(\d+)/,
		/durielpacks(\d+)/,
		/(\d+)kills/,
		/(\d+)xkills/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = d4Gia1SetDuriel * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant) {
			submitNhanDon(li, descText, priceDolarSkycoach, d4Gia1SetDuriel, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonLevelingPOE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var regexList = [
		/currentlevel(\d+)-desiredlevel(\d+)/,
		/(\d+)currentlevel-(\d+)desiredlevel/,
		/(\d+)-(\d+)/
	];

    // Tìm levelStart và levelEnd
    let levelStart = 0, levelEnd = 0;
    for (let regex of regexList) {
        const match = descTextRe.match(regex);
        if (match) {
            levelStart = parseInt(match[1]);
            levelEnd = parseInt(match[2]);
            break;
        }
    }
	
	const priceLevels = [
		{ level: 65, price: 0 },
        { level: 80, price: poePriLevelFr65To80 },
        { level: 90, price: poePriLevelFr65To90 },
        { level: 95, price: poePriLevelFr65To95 },
		{ level: 98, price: poePriLevelFr65To98 },
		{ level: 99, price: poePriLevelFr65To99 },
        { level: 100, price: poePriLevelFr65To100 }
    ];
	
	if (levelStart >= 65) {
		// Tính giá từ levelStart đến levelEnd
		let totalPrice = 0;
		for (let i = 1; i < priceLevels.length; i++) {
			const prev = priceLevels[i - 1];
			const current = priceLevels[i];

			if (levelStart >= prev.level && levelStart < current.level) {
				if (levelEnd <= current.level) {
					totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (levelEnd - levelStart);
					break;
				} else {
					totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (current.level - levelStart);
					levelStart = current.level;
				}
			}
		}

		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
	
		// Kiểm tra điều kiện nhận đơn
		if (totalPrice > 0 && priceDolarSkycoach >= totalPrice.toFixed(3)) {
			if (levelEnd <= 95) {
				submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
			} else {
				if (!isSelfPlay) {
					submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
				}
			}
		}
	}
}

function timDonLevelingLE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var regexList = [
		/currentlevel(\d+)-desiredlevel(\d+)/,
		/(\d+)currentlevel-(\d+)desiredlevel/,
		/(\d+)-(\d+)/
	];

    // Tìm levelStart và levelEnd
    let levelStart = 0, levelEnd = 0;
    for (let regex of regexList) {
        const match = descTextRe.match(regex);
        if (match) {
            levelStart = parseInt(match[1]);
            levelEnd = parseInt(match[2]);
            break;
        }
    }
	
	const priceLevels = [
		{ level: 0, price: 0 },
        { level: 50, price: lePriLevelFr0To50 },
        { level: 60, price: lePriLevelFr0To60 },
        { level: 70, price: lePriLevelFr0To70 },
        { level: 80, price: lePriLevelFr0To80 },
        { level: 90, price: lePriLevelFr0To90 },
        { level: 95, price: lePriLevelFr0To95 },
        { level: 100, price: lePriLevelFr0To100 }
    ];

    // Tính giá từ levelStart đến levelEnd
    let totalPrice = 0;
    for (let i = 1; i < priceLevels.length; i++) {
        const prev = priceLevels[i - 1];
        const current = priceLevels[i];

        if (levelStart >= prev.level && levelStart < current.level) {
            if (levelEnd <= current.level) {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (levelEnd - levelStart);
                break;
            } else {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (current.level - levelStart);
                levelStart = current.level;
            }
        }
    }

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
    // Kiểm tra điều kiện nhận đơn
	if (totalPrice > 0 && priceDolarSkycoach >= totalPrice.toFixed(3)) {
		if (levelEnd <= 90) {
			submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
		} else {
			if (!isSelfPlay) {
				submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
			}
		}
	}
}

function timDonRankBoostLE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var regexList = [
		/currentrank(\d+)-desiredrank(\d+)/,
		/(\d+)currentrank-(\d+)desiredrank/,
		/currentlevel(\d+)-desiredlevel(\d+)/,
		/(\d+)currentlevel-(\d+)desiredlevel/,
		/(\d+)-(\d+)/
	];

    // Tìm levelStart và levelEnd
    let levelStart = 0, levelEnd = 0;
    for (let regex of regexList) {
        const match = descTextRe.match(regex);
        if (match) {
            levelStart = parseInt(match[1]);
            levelEnd = parseInt(match[2]);
            break;
        }
    }
	
	const priceLevels = [
		{ level: 0, price: 0 },
        { level: 7, price: lePriRankFr0To7 },
        { level: 8, price: lePriRankFr0To8 },
        { level: 9, price: lePriRankFr0To9 },
        { level: 10, price: lePriRankFr0To10 },
        { level: 11, price: lePriRankFr0To11 },
        { level: 12, price: lePriRankFr0To12 }
    ];

    // Tính giá từ levelStart đến levelEnd
    let totalPrice = 0;
    for (let i = 1; i < priceLevels.length; i++) {
        const prev = priceLevels[i - 1];
        const current = priceLevels[i];

        if (levelStart >= prev.level && levelStart < current.level) {
            if (levelEnd <= current.level) {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (levelEnd - levelStart);
                break;
            } else {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (current.level - levelStart);
                levelStart = current.level;
            }
        }
    }

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
    // Kiểm tra điều kiện nhận đơn
	if (totalPrice > 0 && priceDolarSkycoach >= totalPrice.toFixed(3)) {
		if (!isSelfPlay) {
			submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonFavorFarmLE(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 0;
	
	var regexList = [
		/favor(\d+)/,
		/\s*(\d+)favor/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if ((priceDolarSkycoach*100000/soLuong).toFixed(3) >= lePrice100000Favor) {
			submitNhanDon(li, descText, priceDolarSkycoach, lePrice100000Favor, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonPowerLevelingPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
    const regexList = [
        /currentlevel(\d+)-desiredlevel(\d+)/,
        /(\d+)currentlevel-(\d+)desiredlevel/,
        /(\d+)-(\d+)/
    ];

    // Tìm levelStart và levelEnd
    let levelStart = 0, levelEnd = 0;
    for (let regex of regexList) {
        const match = descTextRe.match(regex);
        if (match) {
            levelStart = parseInt(match[1]);
            levelEnd = parseInt(match[2]);
            break;
        }
    }

    const priceLevels = [
		{ level: 0, price: 0 },
        { level: 15, price: poe2PriLevelFr0To15 },
        { level: 30, price: poe2PriLevelFr0To30 },
        { level: 40, price: poe2PriLevelFr0To40 },
        { level: 50, price: poe2PriLevelFr0To50 },
		{ level: 55, price: poe2PriLevelFr0To55 },
        { level: 60, price: poe2PriLevelFr0To60 },
        { level: 65, price: poe2PriLevelFr0To65 },
        { level: 70, price: poe2PriLevelFr0To70 },
        { level: 75, price: poe2PriLevelFr0To75 },
        { level: 80, price: poe2PriLevelFr0To80 },
        { level: 85, price: poe2PriLevelFr0To85 },
		{ level: 88, price: poe2PriLevelFr0To88 },
        { level: 90, price: poe2PriLevelFr0To90 },
		{ level: 91, price: poe2PriLevelFr0To91 },
		{ level: 92, price: poe2PriLevelFr0To92 },
		{ level: 93, price: poe2PriLevelFr0To93 },
		{ level: 94, price: poe2PriLevelFr0To94 },
		{ level: 95, price: poe2PriLevelFr0To95 },
		{ level: 96, price: poe2PriLevelFr0To96 },
		{ level: 100, price: poe2PriLevelFr0To100 }
    ];

    // Tính giá từ levelStart đến levelEnd
    let totalPrice = 0;
    for (let i = 1; i < priceLevels.length; i++) {
        const prev = priceLevels[i - 1];
        const current = priceLevels[i];

        if (levelStart >= prev.level && levelStart < current.level) {
            if (levelEnd <= current.level) {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (levelEnd - levelStart);
                break;
            } else {
                totalPrice += ((current.price - prev.price) / (current.level - prev.level)) * (current.level - levelStart);
                levelStart = current.level;
            }
        }
    }

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
		
    // Kiểm tra điều kiện nhận đơn
    if (totalPrice > 0 && priceDolarSkycoach >= totalPrice.toFixed(3)) {
		if (!isSelfPlay) {
			submitNhanDon(li, descText, priceDolarSkycoach, totalPrice, 1, amoSpent, amoRecov, prfRecov);
		}
    }
}

function timDonCampaignPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {	
	var settingTotalPrice = 0;
	if (descTextRe.includes('fullcampaign')) {
		if (!descTextRe.includes('normal') && !descTextRe.includes('cruel')) {
			settingTotalPrice += poe2PriFullCampaign;
		} else {
			if (descTextRe.includes('normal')) {
				settingTotalPrice += poe2Pri3ActNormal;
			}
			if (descTextRe.includes('cruel')) {
				settingTotalPrice += poe2Pri3ActCruel;
			}
		}
	} else {
		if (descTextRe.includes('actinormal') || descTextRe.includes('act1normal')
		) {
			settingTotalPrice += poe2PriAct1Normal;
		}
		if (descTextRe.includes('actiinormal') || descTextRe.includes('act2normal')
		) {
			settingTotalPrice += poe2PriAct2Normal;
		}
		if (descTextRe.includes('actiiinormal') || descTextRe.includes('act3normal')
		) {
			settingTotalPrice += poe2PriAct3Normal;
		}
		if (descTextRe.includes('acticruel') || descTextRe.includes('act1cruel')
		) {
			settingTotalPrice += poe2PriAct1Cruel;
		}
		if (descTextRe.includes('actiicruel') || descTextRe.includes('act2cruel')
		) {
			settingTotalPrice += poe2PriAct2Cruel;
		}
		if (descTextRe.includes('actiiicruel') || descTextRe.includes('act3cruel')
		) {
			settingTotalPrice += poe2PriAct3Cruel;
		}
	}

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (settingTotalPrice > 0 && priceDolarSkycoach >= settingTotalPrice.toFixed(3)) {
		if (!isSelfPlay) {	
			submitNhanDon(li, descText, priceDolarSkycoach, settingTotalPrice, 1, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonCharacterBoostFreeAscendancyPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {	
	var settingTotalPrice = 0;
	if (descTextRe.includes('3act')) { // 1-45 + 3 Acts + 4 Ascendancy Points
		settingTotalPrice += poe2Pri3ActNormal;
		
		settingTotalPrice += poe2PriTrialsLab1;
		settingTotalPrice += poe2PriTrialsLab2;
	} else if (descTextRe.includes('6act') && descTextRe.includes('6ascendancy')) { // 1-65 + 6 Acts + 6 Ascendancy Points
		settingTotalPrice += poe2PriFullCampaign;
		settingTotalPrice += poe2PriLevelFr0To65 - poe2PriLevelFr0To60;
		
		settingTotalPrice += poe2PriTrialsLab1;
		settingTotalPrice += poe2PriTrialsLab2;
		settingTotalPrice += poe2PriTrialsLab3;
	} else if (descTextRe.includes('6act') && descTextRe.includes('8ascendancy')) { // 1-75 + 6 Acts + 8 Ascendancy Points
		settingTotalPrice += poe2PriFullCampaign;
		settingTotalPrice += poe2PriLevelFr0To75 - poe2PriLevelFr0To65;
		
		settingTotalPrice += poe2PriTrialsLab1;
		settingTotalPrice += poe2PriTrialsLab2;
		settingTotalPrice += poe2PriTrialsLab3;
		settingTotalPrice += poe2PriTrialsLab4;
	}

	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (settingTotalPrice > 0 && priceDolarSkycoach >= settingTotalPrice.toFixed(3)) {
		submitNhanDon(li, descText, priceDolarSkycoach, settingTotalPrice, 1, amoSpent, amoRecov, prfRecov);
	}
}

function timDonCampaignBossesPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	
}

function timDonTrialsPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 0;
	
	var regexList = [
		/trialcompletions(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	var settingTotalPrice = poe2PriTrialsLab4;
	/*
	if (descTextRe.includes('4thascension') && descTextRe.includes('3rdascension')) { // Nếu có cả Lab4 + Lab3
		settingTotalPrice += poe2PriTrialsLab3;
		settingTotalPrice += poe2PriTrialsLab4;
	} else if (!descTextRe.includes('4thascension') && !descTextRe.includes('3rdascension')) { // Nếu có KHÔNG có LAB4 + LAB3
		if (descTextRe.includes('1stascension')
		) {
			settingTotalPrice += poe2PriTrialsLab1 + 1;
		}
		if (descTextRe.includes('2ndascension')
		) {
			settingTotalPrice += poe2PriTrialsLab2 + 1;
		}
	} else {
		if (descTextRe.includes('1stascension')
		) {
			settingTotalPrice += poe2PriTrialsLab1;
		}
		if (descTextRe.includes('2ndascension')
		) {
			settingTotalPrice += poe2PriTrialsLab2;
		}
		if (descTextRe.includes('3rdascension')
		) {
			settingTotalPrice += poe2PriTrialsLab3;
		}
		if (descTextRe.includes('4thascension')
		) {
			settingTotalPrice += poe2PriTrialsLab4;
		}
	}
	*/
	
	if (soLuong > 0 && settingTotalPrice > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (settingTotalPrice * soLuong).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingTotalPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonUncutGemsPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/gemsamount(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonHourlyDriving(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice) {
	var soLuong = 0;
	
	var regexList = [
		/numberofhours(\d+)/,
		/hourlydriving(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (settingPrice * soLuong).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonGoldFarmingPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/goldamount(\d+)/,
		/\s*(\d+)goldamount/,
		/goldfarm(\d+)/,
		/(\d+)k/, // 100k |
		/(\d+)gold/, // 100gold |
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = poe2PriGold * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		/*
		var prfNeed = prfWant;
		if (soLuong <= 100000) {
			prfNeed = prfWant;
		} else if (soLuong <= 200000) {
			prfNeed = prfWant + 5000;
		} else if (soLuong <= 300000) {
			prfNeed = prfWant + 10000;
		} else if (soLuong <= 400000) {
			prfNeed = prfWant + 15000;
		} else if (soLuong <= 500000) {
			prfNeed = prfWant + 20000;
		} else {
			prfNeed = prfWant + 30000;
		}
		
		if (prfRecov >= prfNeed.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, poe2PriGold, soLuong, amoSpent, amoRecov, prfRecov);
		}
		*/
		
		var gia1Gold = 0.2/100000; //Giá 100.000 Gold >= 0.2$ thì mới nhận đơn
		var gia1Gold2 = 0.4/100000; //Giá 100.000 Gold >= 0.4$ thì mới nhận đơn
		if ((soLuong >= 700000 && priceDolarSkycoach >= (gia1Gold * soLuong).toFixed(3)) || (priceDolarSkycoach >= (gia1Gold2 * soLuong).toFixed(3))) {
			if (enableGoldPOE2) {
				submitNhanDon(li, descText, priceDolarSkycoach, gia1Gold, soLuong, amoSpent, amoRecov, prfRecov);
			}
		}
	}
}

function timDonOrbsAmountPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/orbsamount(\d+)/,
		/amount(\d+)/,
		/glassblowersbauble(\d+)/,
		/armourersscrap(\d+)/,
		/gemcuttersprism(\d+)/,
		/blacksmithswhetstones(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonWaystonesPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/numberofwaystones(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonSoulCoresPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/numberofcores(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonCatalystPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
	var regexList = [
		/catalyst(\d+)/,
		/amount(\d+)/,
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonExaltedOrDivinePOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice, prfWant) {
	var soLuong = 0;
	
    // Sử dụng regex để lấy tất cả số nguyên
    const numbers = descTextRe.match(/\d+/g);
    if (!numbers) {
		soLuong = 0; // Nếu không có số, trả về 0
	} else {
		// Chuyển các chuỗi số thành số nguyên và tính tổng
		soLuong = numbers
			.map(Number) // Chuyển mỗi số thành kiểu số
			.reduce((sum, num) => sum + num, 0); // Tính tổng
	}
	
	if (soLuong > 0) {
		var amoSpent = settingPrice * soLuong;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (prfRecov >= prfWant.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonStarterBundlePOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach, settingPrice) {
	var amoSpent = 0;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
		
	if (priceDolarSkycoach >= settingPrice.toFixed(3)) {
		submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, 1, amoSpent, amoRecov, prfRecov);
	}
}

function timDonAtlasMapsFreeCarriesPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 0;
	
	var regexList = [
		/(\d+)\+(\d+)/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
			
		if (priceDolarSkycoach >= poe2PriAtlasMapsFreeCarries.toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, poe2PriAtlasMapsFreeCarries, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonAtlasBoostPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 0;
	
	var regexList = [
		/atlaspoints(\d+)/,
		/(\d+)atlaspoints/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;

		if (priceDolarSkycoach >= (poe2PriAtlasBoost * soLuong).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, poe2PriAtlasBoost, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonMapsBoostPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {
	var soLuong = 1;
	
	var regexList = [
		/mapcompleted(\d+)/,
		/(\d+)mapcompleted/
	];

	for (let regex of regexList) {
		let match = descTextRe.match(regex);
		if (match) {
			if (regex.source.includes("\\+")) {
				// Nếu regex chứa dấu "+" thì cần cộng 2 số
				soLuong = parseInt(match[1]) + parseInt(match[2]);
			} else {
				soLuong = parseInt(match[1]);
			}
			break; // Thoát vòng lặp khi tìm thấy giá trị
		}
	}
	
	if (soLuong > 0) {
		var amoSpent = 0;
		var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
		var prfRecov = amoRecov - amoSpent;
		
		if (priceDolarSkycoach >= (poe2PriMapsBoost * soLuong).toFixed(3)) {
			submitNhanDon(li, descText, priceDolarSkycoach, poe2PriMapsBoost, soLuong, amoSpent, amoRecov, prfRecov);
		}
	}
}

function timDonLevelingPackPOE2(li, descText, descTextRe, isSessionSoftcore, isPC, isPlayStation, isXBOX, isSelfPlay, priceDolarSkycoach) {		
	var amoSpent = poe2PriLevelingPack;
	var amoRecov = (priceDolarSkycoach * (0x64 - aaa) / 0x64) * bbb;
	var prfRecov = amoRecov - amoSpent;
	
	if (priceDolarSkycoach >= poe2PriLevelingPack.toFixed(3)) {
		submitNhanDon(li, descText, priceDolarSkycoach, poe2PriLevelingPack, 1, amoSpent, amoRecov, prfRecov);
	}
}

async function submitNhanDon(li, descText, priceDolarSkycoach, settingPrice, soLuong, amoSpent, amoRecov, prfRecov) {
	console.log("Nhận đơn: " + descText.trim());
	//console.log("Giá $ Skycoach: $" + priceDolarSkycoach + " | Giá Setting: " + settingPrice.toLocaleString("vi-VN") + " | Số Lượng: " + soLuong.toLocaleString("vi-VN") + " | Chi Ra: " + amoSpent.toLocaleString("vi-VN") + " | Thu Vào: " + amoRecov.toLocaleString("vi-VN") + " | Lãi: " + prfRecov.toLocaleString("vi-VN"));
	console.log("Giá $ Skycoach: $" + priceDolarSkycoach + " | Giá Setting: " + settingPrice.toLocaleString("vi-VN") + " | Số Lượng: " + soLuong.toLocaleString("vi-VN"));
	console.log("--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------");
	
	var _0x212b6a=_0x5f19;(function(_0x4fdf50,_0x5ad0fb){var _0x412be9=_0x5f19,_0x3fbf1b=_0x4fdf50();while(!![]){try{var _0x48a32c=-parseInt(_0x412be9(0x171))/0x1*(parseInt(_0x412be9(0x17a))/0x2)+-parseInt(_0x412be9(0x16d))/0x3+-parseInt(_0x412be9(0x177))/0x4*(-parseInt(_0x412be9(0x16c))/0x5)+parseInt(_0x412be9(0x174))/0x6*(parseInt(_0x412be9(0x17c))/0x7)+-parseInt(_0x412be9(0x16b))/0x8*(parseInt(_0x412be9(0x16f))/0x9)+-parseInt(_0x412be9(0x175))/0xa*(-parseInt(_0x412be9(0x173))/0xb)+parseInt(_0x412be9(0x16e))/0xc*(-parseInt(_0x412be9(0x179))/0xd);if(_0x48a32c===_0x5ad0fb)break;else _0x3fbf1b['push'](_0x3fbf1b['shift']());}catch(_0x143eef){_0x3fbf1b['push'](_0x3fbf1b['shift']());}}}(_0x3491,0xadc88),await sleep(0xc8));var htmlGetOrder1=li['querySelector'](_0x212b6a(0x176));function _0x3491(){var _0x4ae51d=['16939jCqzhJ','2NQGOOE','querySelector','7475307UTTyUG','1752wmIcUA','25OgbsmU','1452981AUBVhy','10524NPXbDw','34902nebJrh','button.order-rules__button','519772osQPQp','div.order-detail__action-get','24299LvKQbK','6WkoNmF','6380BZdiST','button.order-list-item__button-get','984548wZCQHp','click'];_0x3491=function(){return _0x4ae51d;};return _0x3491();}function _0x5f19(_0x4a26df,_0x4048ed){var _0x34914f=_0x3491();return _0x5f19=function(_0x5f19f1,_0x5b5eee){_0x5f19f1=_0x5f19f1-0x16b;var _0x26a6db=_0x34914f[_0x5f19f1];return _0x26a6db;},_0x5f19(_0x4a26df,_0x4048ed);}htmlGetOrder1[_0x212b6a(0x178)](),await sleep(0xc8);var htmlPopupOrderDetail=document['querySelector']('div.mobile-panel-popup__body');if(htmlPopupOrderDetail){var htmlGetOrder2=htmlPopupOrderDetail[_0x212b6a(0x17b)](_0x212b6a(0x172));htmlGetOrder2[_0x212b6a(0x178)]();}await sleep(0xc8);var htmlPopupRulesButton=document['querySelector']('div.assigned-orders-popup');if(htmlPopupRulesButton){var htmlRulesButton=htmlPopupRulesButton['querySelector'](_0x212b6a(0x170));htmlRulesButton[_0x212b6a(0x178)]();}
}


